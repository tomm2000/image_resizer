(function(e){function t(t){for(var r,o,i=t[0],u=t[1],l=t[2],s=0,p=[];s<i.length;s++)o=i[s],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);d&&d(t);while(p.length)p.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(r=!1)}r&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},c=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/image_resizer/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=u;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"018a":function(e,t,n){},"1dd6":function(e,t,n){"use strict";n("b431")},"26af":function(e,t,n){"use strict";n("018a")},"30b6":function(e,t,n){"use strict";n("5849")},4983:function(e,t,n){"use strict";n("6794")},5849:function(e,t,n){},6794:function(e,t,n){},7965:function(e,t,n){},b431:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function a(e,t){var n=Object(r["u"])("router-view");return Object(r["p"])(),Object(r["d"])(n)}n("30b6");var c=n("6b0d"),o=n.n(c);const i={},u=o()(i,[["render",a]]);var l=u,d=n("6c02"),s={id:"HOME"},p={id:"settings"};function f(e,t,n,a,c,o){var i=Object(r["u"])("Uploader"),u=Object(r["u"])("Settings"),l=Object(r["u"])("ImageDisplay");return Object(r["p"])(),Object(r["e"])("div",s,[Object(r["f"])("div",p,[Object(r["g"])(i,{reloadImage:e.reloadImage},null,8,["reloadImage"]),Object(r["g"])(u)]),Object(r["g"])(l,{imageID:"convertedImage"})])}n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861");var b={id:"UPLOADER"},O={class:"container",id:"fileselect"},j=Object(r["f"])("span",null,"BROWSE FILES:",-1),g=Object(r["f"])("button",{onclick:"document.getElementById('fileInput').click()"},"Browse...",-1),m={class:"container",id:"fileupload"},v={class:"container",id:"fileload"};function h(e,t,n,a,c,o){return Object(r["p"])(),Object(r["e"])("div",b,[Object(r["f"])("div",O,[j,Object(r["f"])("input",{id:"fileInput",onChange:t[0]||(t[0]=function(){return e.onFileChanged&&e.onFileChanged.apply(e,arguments)}),type:"file",accept:"image/*",style:{display:"none"}},null,32),g]),Object(r["f"])("div",m,[Object(r["f"])("span",null,"SELECTED FILE: "+Object(r["w"])(e.fileName),1),Object(r["f"])("button",{onClick:t[1]||(t[1]=function(){return e.uploadFile&&e.uploadFile.apply(e,arguments)})},"upload file")]),Object(r["f"])("div",v,[Object(r["f"])("span",null,"USER ID: "+Object(r["w"])(e.userID),1),Object(r["f"])("button",{onClick:t[2]||(t[2]=function(){return e.requestImage&&e.requestImage.apply(e,arguments)})},"load file")])])}n("b0c0");var I=n("bc3a"),y=n.n(I),w={loaded_image:null,user_id:"no id",selected_aspect:0},_=Object(r["r"])(w),E={SERVER_URL:"https://image-resizer-2.herokuapp.com",IMAGE_ASPECTS:[{w:9,h:16,desc:"default portrait"},{w:16,h:9,desc:"default landscape"},{w:9,h:17,desc:"c2me stories"}]},S=Object(r["h"])({props:{reloadImage:Function},setup:function(e){var t=Object(r["s"])(""),n=Object(r["s"])(null),a=Object(r["b"])((function(){return _.user_id})),c=function(e){var r=e.target.files;r&&(n.value=r[0],t.value=r[0].name)},o=function(){if(n.value){var e=E.IMAGE_ASPECTS[_.selected_aspect],t=e.w,r=e.h,a={imagew:t,imageh:r},c=new FormData;c.append("image",n.value,n.value.name),y.a.post("".concat(E.SERVER_URL,"/upload"),c,{params:a}).then((function(e){_.user_id=e.data}))}},i=function(){y.a.get("".concat(E.SERVER_URL,"/getimage"),{params:{user_id:_.user_id},responseType:"blob"}).then((function(t){_.loaded_image=t.data,e.reloadImage&&e.reloadImage(t.data)}))};return{fileName:t,userID:a,onFileChanged:c,uploadFile:o,requestImage:i}}});n("26af");const R=o()(S,[["render",h]]);var D=R,P={id:"IMAGEDISPLAY"},L=["id"];function U(e,t,n,a,c,o){return Object(r["p"])(),Object(r["e"])("div",P,[Object(r["f"])("img",{id:e.imageID},null,8,L)])}var k=Object(r["h"])({props:{imageID:String},setup:function(e){}});n("4983");const A=o()(k,[["render",U]]);var C=A,F={id:"SETTINGS"},M=["value"];function T(e,t,n,a,c,o){return Object(r["p"])(),Object(r["e"])("div",F,[Object(r["A"])(Object(r["f"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.homepage_data.selected_aspect=t})},[(Object(r["p"])(!0),Object(r["e"])(r["a"],null,Object(r["t"])(e.ratios,(function(e,t){return Object(r["p"])(),Object(r["e"])("option",{key:t,value:t},Object(r["w"])(e.w)+"x"+Object(r["w"])(e.h)+" ["+Object(r["w"])(e.desc)+"]",9,M)})),128))],512),[[r["y"],e.homepage_data.selected_aspect]])])}var x=Object(r["h"])({setup:function(){return{ratios:E.IMAGE_ASPECTS,homepage_data:_}}});n("d9f6");const G=o()(x,[["render",T]]);var B=G,V=Object(r["h"])({components:{Uploader:D,ImageDisplay:C,Settings:B},setup:function(){var e=function(e){console.log("reloaded image");var t=window.URL||window.webkitURL,n=document.getElementById("convertedImage");n.src="",n.src=t.createObjectURL(e)};return{reloadImage:e}}});n("1dd6");const q=o()(V,[["render",f]]);var z=q,N=[{path:"/",name:"Home",component:z}],H=Object(d["a"])({history:Object(d["b"])("/image_resizer/"),routes:N}),J=H;Object(r["c"])(l).use(J).mount("#app")},d9f6:function(e,t,n){"use strict";n("7965")}});
//# sourceMappingURL=app.3627d017.js.map